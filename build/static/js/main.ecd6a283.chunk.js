(this["webpackJsonptdd-talculator"]=this["webpackJsonptdd-talculator"]||[]).push([[0],[,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_Display_Display__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_Buttons_Buttons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),Calculator=function Calculator(){var ceRegex=new RegExp(/\d*\.?\d*$|(\d*\.?\d*[\+\*\/-])$|\(\S*\)$/),evalRegex=new RegExp(/[+*\/\-\.]+$/),signRegex=new RegExp(/(\(*\-\d*\.*\d*\)*)$/),warn="MAX CHAR LIMIT",err="ERROR",maxChars=17,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState2=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),value=_useState2[0],setValue=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)("0"),_useState4=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),prevValue=_useState4[0],setPrevValue=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState6=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),formula=_useState6[0],setFormula=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)("+"),_useState8=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState7,2),sign=_useState8[0],setSign=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState10=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState9,2),last=_useState10[0],setLast=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState12=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState11,2),output=_useState12[0],setOutput=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(3.2),_useState14=Object(C_Users_UnitA_Projects_TDD_Talculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState13,2),outputSize=_useState14[0],setOutputSize=_useState14[1],reset=function(){setPrevValue("0"),setValue(""),setFormula(""),setOutput(""),setLast("AC"),setSign("+")},handleNumbers=function(e){var t=e.target.value;if("eval"===last)setValue(t),setFormula(t),setOutput(t);else if(!value.includes("MAX")){var a=value;if(value.length>=maxChars)return handleMax(),void setLast("num");"sign"===last&&"-"===sign?(a+=t,setFormula(formula.replace(signRegex,a))):value.length<maxChars&&(a="op"===last?t:value+t,setFormula(formula+t)),setPrevValue(value),setValue(a),setOutput(parseFloat(a).toLocaleString()),setOutputSize(getFontSize(a.toString()))}setLast("num")},handleSign=function(e){if("eval"!==last&&"op"!==last){if("+"===sign)setFormula(formula.slice(0,formula.length-value.toString().length).concat("(-"+value+")")),setOutput(""!==value?"-"+parseFloat(value).toLocaleString():"-"),setValue("-"+value),setSign("-");else{var t=value.slice(1);setFormula(formula.replace(signRegex,t)),setOutput(parseFloat(t).toLocaleString()),setValue(t),setSign("+")}setLast("sign")}},handleOperator=function(e){var t=e.target.value.replace("x","*");"op"!==last&&""!==value&&"-"!==value&&(setFormula(formula.replace("=","")+t),setOutput(t),setValue(t),setPrevValue(value),setLast("op"),setSign("+"))},handleEval=function handleEval(e){if("eval"!==last){try{var f=formula.replace(evalRegex,""),result=Math.round(1e11*eval(f))/1e11,fontSize=getFontSize(result.toString());setOutput(result.toString().length>maxChars?parseFloat(result).toExponential(2):parseFloat(result).toLocaleString()),setFormula(f+e.target.value),setValue(result),setPrevValue(value),setOutputSize(fontSize)}catch(e){setFormula(""),setOutput(err),setValue(err),setTimeout(reset(),2e3)}setLast("eval")}},handleClear=function(e){if("AC"===e.target.value)reset();else{var t=formula.replace(ceRegex,"").replace("=","");setValue(""),setOutput(""),setFormula(t),setLast("ce")}},handleDecimal=function(e){"dec"===last||value.includes(".")||(""===value||"op"===last?(setValue("0."),setOutput("0."),setFormula(formula+"0.")):(setOutput(parseFloat(value).toLocaleString()+"."),setFormula(formula+"."),setValue(value+".")),setLast("dec"))},handleMax=function(){console.log("value: ".concat(value,", output: ").concat(output," ")),setPrevValue(value),setValue(warn),setOutput(warn),setTimeout((function(){setOutput(parseFloat(prevValue).toLocaleString()),setValue(prevValue),console.log("timeout")}),1e3)};Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){console.log("output ".concat(output))}),[output]);var getFontSize=function(e){switch(!0){case e.length>maxChars:return 1.55;case 9===e.length:return 3.1;case 10===e.length:return 2.75;case 11===e.length:return 2.5;case 12===e.length:return 2.35;case 13===e.length:return 2.15;case 14===e.length:return 2.05;case 15===e.length:return 1.9;case 16===e.length:return 1.7;case 17===e.length:return 1.6;default:return 3.2}};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"calculator"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1",{className:"title"},"Talculator"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Display_Display__WEBPACK_IMPORTED_MODULE_2__.a,{outputSize:outputSize,formula:formula,output:output}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Buttons_Buttons__WEBPACK_IMPORTED_MODULE_3__.a,{handleNum:handleNumbers,handleSign:handleSign,handleOp:handleOperator,handleEval:handleEval,handleClr:handleClear,handleDec:handleDecimal}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"author"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:"https://johndarke.net"},"JohnDarke.net"))))};__webpack_exports__.a=Calculator},function(e,t,a){"use strict";var _=a(0),l=a.n(_);t.a=function(e){var t=e.handleNum,a=e.handleSign,_=e.handleOp,u=e.handleEval,r=e.handleClr,s=e.handleDec;return l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{value:"AC",className:"clear",onMouseDown:r},"AC"),l.a.createElement("button",{value:"CE",className:"clear",onClick:r},"CE"),l.a.createElement("button",{value:"\xb1",className:"operator",onClick:a},"\xb1"),l.a.createElement("button",{value:"/",className:"operator",onClick:_},"/"),l.a.createElement("button",{value:"7",className:"number",onClick:t},"7"),l.a.createElement("button",{value:"8",className:"number",onClick:t},"8"),l.a.createElement("button",{value:"9",className:"number",onClick:t},"9"),l.a.createElement("button",{value:"x",className:"operator",onClick:_},"x"),l.a.createElement("button",{value:"4",className:"number",onClick:t},"4"),l.a.createElement("button",{value:"5",className:"number",onClick:t},"5"),l.a.createElement("button",{value:"6",className:"number",onClick:t},"6"),l.a.createElement("button",{value:"-",className:"operator",onClick:_},"-"),l.a.createElement("button",{value:"1",className:"number",onClick:t},"1"),l.a.createElement("button",{value:"2",className:"number",onClick:t},"2"),l.a.createElement("button",{value:"3",className:"number",onClick:t},"3"),l.a.createElement("button",{value:"+",className:"operator",onClick:_},"+"),l.a.createElement("button",{value:"0",className:"number wide",onClick:t},"0"),l.a.createElement("button",{value:".",className:"number",onClick:s},"."),l.a.createElement("button",{value:"=",className:"operator eval",onClick:u},"="))}},function(e,t,a){"use strict";var _=a(0),l=a.n(_),u=function(e){var t=e.formula;return l.a.createElement("div",{className:"formula"},t)},r=function(e){var t=e.outputSize,a=e.output,_={fontSize:"".concat(t,"em")};return l.a.createElement("div",{className:"output",style:_},a)};t.a=function(e){var t=e.outputSize,a=e.formula,_=e.output;return l.a.createElement("div",{className:"display"},l.a.createElement(u,{formula:a}),l.a.createElement(r,{output:_,outputSize:t}))}},function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var _=a(0),l=a.n(_),u=a(3),r=a.n(u),s=(a(12),a(13),a(14),a(4)),n=function(){return l.a.createElement(s.a,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(n,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.ecd6a283.chunk.js.map